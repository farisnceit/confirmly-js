import e from"@popperjs/core";function t(e,t,o){return function(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,n(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t);if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}var o=function(){return t((function e(t){var o,a,r,i=t.template,l=t.buttonClasses,c=t.buttonContents,s=t.defaultPlacement,p=t.targetElement,u=t.onConfirm,f=t.onCancel;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,r=null,(a=n(a="popperInstance"))in o?Object.defineProperty(o,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[a]=r,this.template=i||this.defaultTemplate(),this.buttonClasses=l||{confirm:"confirm-btn",cancel:"cancel-btn"},this.buttonContents=c||{confirm:"Yes",cancel:"No"},this.defaultPlacement=s||"top",this.popperElement=this.createPopperElement(),document.body.appendChild(this.popperElement),this.attach(p,u,f)}),[{key:"defaultTemplate",value:function(){return'\n      <div class="confirmation-content">\n        <p>Are you sure?</p>\n        <div class="arrow" data-popper-arrow></div>\n        <button class="{{confirmClass}}">{{confirmContent}}</button>\n        <button class="{{cancelClass}}">{{cancelContent}}</button>\n      </div>\n    '}},{key:"createPopperElement",value:function(){var e,t,n=this,o=document.createElement("div");o.className="confirmation-popper",o.style.display="none",o.style.position="absolute";var a=this.template.replace("{{confirmClass}}",this.buttonClasses.confirm).replace("{{cancelClass}}",this.buttonClasses.cancel).replace("{{confirmContent}}",this.buttonContents.confirm).replace("{{cancelContent}}",this.buttonContents.cancel);o.innerHTML=a;var r=this.buttonClasses.confirm.replace(" ",".");null===(e=o.querySelector(".".concat(r)))||void 0===e||e.addEventListener("click",(function(){n.handleConfirm()}));var i=this.buttonClasses.cancel.replace(" ",".");return null===(t=o.querySelector(".".concat(i)))||void 0===t||t.addEventListener("click",(function(){n.handleCancel()})),o}},{key:"attach",value:function(e,t,n){var o=this;e.addEventListener("click",(function(a){a.stopPropagation(),o.showPopper(e,t,n)})),document.addEventListener("click",(function(e){o.popperElement.contains(e.target)||o.hidePopper()}))}},{key:"showPopper",value:function(t,n,o){this.onConfirmCallback=n,this.onCancelCallback=o,this.popperElement.style.display="block",this.popperInstance&&this.popperInstance.destroy(),this.popperInstance=e.createPopper(t,this.popperElement,{placement:this.defaultPlacement,modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"arrow",options:{element:"[data-popper-arrow]"}}]})}},{key:"hidePopper",value:function(){this.popperInstance&&(this.popperInstance.destroy(),this.popperInstance=null),this.popperElement.style.display="none"}},{key:"handleConfirm",value:function(){this.onConfirmCallback&&this.onConfirmCallback(),this.hidePopper()}},{key:"handleCancel",value:function(){this.onCancelCallback&&this.onCancelCallback(),this.hidePopper()}}])}();export{o as confirmPopup};
//# sourceMappingURL=confirmly-popup.esm.min.js.map
