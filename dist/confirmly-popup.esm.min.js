import e from"@popperjs/core";function t(e,t,o){return function(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t);if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}var o=function(){return t((function e(t){var o,r,a,i=t.template,l=t.buttonClasses,s=t.buttonContents,c=t.defaultPlacement,p=t.targetElement,u=t.onConfirm,f=t.onCancel,h=t.showError,m=void 0===h||h;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,a=null,(r=n(r="popperInstance"))in o?Object.defineProperty(o,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[r]=a,this.template=i||this.defaultTemplate(),this.buttonClasses=l||{confirm:"confirm-btn",cancel:"cancel-btn"},this.buttonContents=s||{confirm:"Yes",cancel:"No"},this.defaultPlacement=c||"top",this.showError=m,this.popperElement=this.createPopperElement(),document.body.appendChild(this.popperElement),this.attach(p,u,f)}),[{key:"defaultTemplate",value:function(){return'\n      <div class="confirmation-content">\n        <p>Are you sure?</p>\n        <div class="arrow" data-popper-arrow></div>\n        <button class="{{confirmClass}}" data-button="confirm">{{confirmContent}}</button>\n        <button class="{{cancelClass}}" data-button="cancel">{{cancelContent}}</button>\n      </div>\n    '}},{key:"createPopperElement",value:function(){var e=document.createElement("div");e.className="confirmation-popper",e.style.display="none",e.style.position="absolute";var t=this.template.replace("{{confirmClass}}",this.buttonClasses.confirm).replace("{{cancelClass}}",this.buttonClasses.cancel).replace("{{confirmContent}}",this.buttonContents.confirm).replace("{{cancelContent}}",this.buttonContents.cancel);return e.innerHTML=t,this.attachButtonListeners(e),e}},{key:"attachButtonListeners",value:function(e){var t=this,n=e.querySelector('[data-button="confirm"]'),o=e.querySelector('[data-button="cancel"]');n&&n.addEventListener("click",(function(){t.handleConfirm()})),o&&o.addEventListener("click",(function(){t.handleCancel()}))}},{key:"attach",value:function(e,t,n){var o=this;e&&this.showError&&console.error("Target Element is not Defined"),null==e||e.addEventListener("click",(function(r){r.stopPropagation(),o.showPopper(e,t,n)})),document.addEventListener("click",(function(e){o.popperElement.contains(e.target)||o.hidePopper()}))}},{key:"showPopper",value:function(t,n,o){this.onConfirmCallback=n,this.onCancelCallback=o,this.popperElement.style.display="block",this.popperInstance&&this.popperInstance.destroy(),t&&this.showError&&console.error("Target Element is not Defined"),this.popperInstance=e.createPopper(t,this.popperElement,{placement:this.defaultPlacement,modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"arrow",options:{element:"[data-popper-arrow]"}}]})}},{key:"hidePopper",value:function(){this.popperInstance&&(this.popperInstance.destroy(),this.popperInstance=null),this.popperElement.style.display="none"}},{key:"handleConfirm",value:function(){this.onConfirmCallback&&this.onConfirmCallback(),this.hidePopper()}},{key:"handleCancel",value:function(){this.onCancelCallback&&this.onCancelCallback(),this.hidePopper()}}])}();export{o as confirmPopup};
//# sourceMappingURL=confirmly-popup.esm.min.js.map
